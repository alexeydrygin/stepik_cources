## Выводы
------

Итак, давайте подведем краткие итоги.

**Есть три основных способа заменять старые сообщения новыми при взаимодействии бота с пользователем:**

*   Через отправку новых сообщений без удаления старых
*   Через удаление старого сообщения перед отправкой нового
*   Через редактирование старого сообщения

Все три способа используются на практике, однако, последний работает не всегда.

**Редактирование сообщений сработает в случаях:**

*   Когда нужно отредактировать текстовое сообщение текстовым (метод Telegram Bot API - `editMessageText`)
*   Когда нужно отредактировать сообщение с медиа-контентом сообщением с медиа-контентом (метод Telegram Bot API - `editMessageMedia`). На текущий момент это сообщения с медиа-контентом типов:
    *   Audio
    *   Video
    *   Document
    *   Animation
    *   Photo
*   Когда нужно отредактировать только инлайн-клавиатуру (метод Telefram Bot API - `editMessageReplyMarkup`)
*   Когда нужно отредактировать подпись (caption) к сообщению (метод Telefram Bot API - `editMessageCaption`)

**При редактировании, если новое сообщение полностью совпадает со старым, возникает исключение `TelegramBadRequest: Telegram server says Bad Request: there is no media in the message to edit`.**

Если, в процессе разработки, возникает понимание, что может возникать такое исключение, то есть три основных пути:

*   Сравнивать перед отправкой новое сообщение со старым и не отправлять новое при их совпадении
*   Перехватывать исключение `TelegramBadRequest` с помощью конструкции `try/except`
*   Гарантированно изменять новое сообщение

Надеюсь, теперь вам будет проще редактировать сообщения :)