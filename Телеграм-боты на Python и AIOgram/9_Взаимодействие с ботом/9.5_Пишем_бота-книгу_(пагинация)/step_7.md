## file\_handling.py из пакета services
------------------------------------

Для того, чтобы было удобно работать с книгой - нам нужно преобразовать текстовый файл книги в словарь, где ключами будут номера страниц, а значениями - тексты этих страниц. 

Структура файла **file\_handling.py** будет следующая:

### file\_handling.py

    BOOK_PATH = 'book/book.txt'
    PAGE_SIZE = 1050
    
    book: dict[int, str] = {}
    
    
    # Функция, возвращающая строку с текстом страницы и ее размер
    def _get_part_text(text: str, start: int, size: int) -> tuple[str, int]:
        pass
    
    
    # Функция, формирующая словарь книги
    def prepare_book(path: str) -> None:
        pass
    
    
    # Вызов функции prepare_book для подготовки книги из текстового файла
    prepare_book(BOOK_PATH)

Функции `prepare_book` и `_get_part_text` вы будете писать сами на следующих шагах урока. Функция `_get_part_text` начинается с подчеркивания, т.к. она является вспомогательной для функции `prepare_book` и подразумевается, что она не будет вызвана откуда-то из другого места проекта. Конечно, вам никто не запретит ее вызвать откуда угодно, если очень захочется, но обычно подчеркивание в начале имени функции сообщает программисту, что функция нужна только внутри того модуля, в котором она объявлена.

Константа `BOOK_PATH`, как несложно догадаться, хранит путь к текстовому файлу книги, константа `PAGE_SIZE` хранит максимальное количество букв для одной страницы. Число 1050 было подобрано опытным путем для экрана моего телефона, чтобы страница примерно помещалась в его размеры. У вас это число может быть немного другим. Поэкспериментируйте потом в процессе.

После того, как отработает функция `prepare_book`, получится словарь вида:

    book = {1: 'Здесь текст первой страницы книги',
            2: 'Здесь текст второй страницы книги',
            3: 'Здесь текст третьей страницы книги',
            4: 'Здесь текст четвертой страницы книги',
            5: 'Здесь текст пятой страницы книги',
            6: 'Здесь текст шестой страницы книги'}

Причем, каждая страница не будет обрываться на полуслове, а будет заканчиваться каким-либо знаком препинания, чтобы выглядело в боте это все как в настоящей читалке. То есть, максимальная длина страницы будет равна `PAGE_SIZE`, но фактически, почти всегда будет немного меньше из-за того, что не поместившееся целиком слово будет переноситься на следующую страницу.