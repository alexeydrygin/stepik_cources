## Принципы организации проекта
----------------------------

Разделение проекта на модули и пакеты - это ни какая-нибудь прихоть разработчиков, это необходимость, вызванная усложнением поддержки проекта при его масштабировании. Очень редко бывает так, что действующий проект не развивается. Если сервисом кто-то пользуется, обычно, всегда есть пожелания по его улучшению. Ускорение работы, новый функционал, статистика, частые сценарии использования и так далее. Поэтому, чем лучше организован проект, тем проще и быстрее с ним работать, особенно это важно, когда к проекту подключаются новые разработчики. Ведь чем дольше они будут вникать, тем дольше ждать улучшений.

Какого-то одного, устоявшегося шаблона для разработки телеграм-ботов нет - каждый разработчик либо пользуется наиболее популярными шаблонами, либо создает свои. Кто-то совсем с нуля, а кто-то допиливая имеющиеся под себя.

При выборе шаблона, думаю, имеет смысл ориентироваться на следующие принципы:

*   **Расширяемость.** Подумайте, предполагает ли ваш бот в ближайшее время обрастать дополнительным функционалом. Если нет, то есть вы, например, делаете простого бота для себя, который решает одну-две-три несложные задачи, тогда и большую структуру, учитывающую все потенциальные возможности любых ботов, использовать не очень оправданно.
    
*   **Понятность структуры.** Очень важно, чтобы структура проекта была интуитивно понятной. В первую очередь, конечно, лично вам, как разработчику, но также немаловажно держать в голове мысль, что к вашему проекту, возможно, подключатся другие программисты. Хорошая понятная структура точно облегчит им жизнь. Лично я, когда делаю какой-то проект, постоянно оцениваю проект с точки зрения - понятен ли он со стороны.
    
*   **Необходимость и достаточность дробления.** Понимание этого принципа приходит с опытом. При разработке проекта есть, на мой взгляд, две крайности - весь проект в одном-двух файлах - на одном полюсе и для каждой функции отдельный модуль - на другом. И тот и тот, кстати, используются в реальной разработке и, наверное, даже бывают оправданными. Но как это чаще всего бывает, оптимально находиться где-нибудь посередине. 
    
*   **Изолированность слоев друг от друга.** В идеале, изменения в каком-то одном слое проекта не должны затрагивать другие слои. Так, конечно, бывает не часто, но нужно к этому стремиться. Например, в процессе развития проекта, вы решили перейти на какую-то другую базу данных. У вас должен быть отдельный слой, в котором вы работаете с базой данных. Его вы и меняете при переходе на новую БД, а для всех остальных слоев ничего меняться не должно. 
    
*   **Обработчики отдельно - логика отдельно.** По сути, это частный случай предыдущего принципа. Выделил его отдельно, потому что это очень частая ошибка. В очень редких случаях имеет смысл писать логику внутри обработчиков. В очень редких. Логику нужно выносить в отдельный слой.
    

Это чисто мой опыт. Уверен, что похожие и еще другие принципы уже давно описаны и систематизированы кем-то и если мне когда-нибудь они попадутся в удачном изложении, возможно, я возьму их на вооружение и перепишу этот шаг. А пока пользуюсь этими.